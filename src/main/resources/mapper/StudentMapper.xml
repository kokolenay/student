<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cqu.student.mapper.StudentMapper">
    <!--账户激活-->
    <update id="register" parameterType="Student">
        update student set password = #{password}, status = #{status}
        where phone = #{phone}
    </update>

    <!--获得线上报道的人数-->
    <select id="countOnline">
        select COUNT(*) from student where register_method="线上报道";
    </select>

    <!--获得现场报道的人数-->
    <select id="countOnsite">
        select COUNT(*) from student where register_method="现场报道";
    </select>

    <!--获得每个系的人数-->
    <select id="countDepartment">
        select department, COUNT(*) as num from student group by department;
    </select>

    <!--获得每日报道的人数-->
    <select id="countTime">
        select register_time, COUNT(*) as num from student where register_time is not null group by register_time order by register_time;
    </select>

    <!--获得各个环节已完成的人数-->
    <select id="countProcess">
        select register_process, COUNT(*) as num from student group by register_process order by register_process;
    </select>

    <!--生源地人数-->
    <select id="countPlace">
        select stu_place, COUNT(*) as num from student group by stu_place;
    </select>
</mapper>